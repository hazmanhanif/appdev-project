{% extends 'base.html' %}
{% block title %}Student Payments{% endblock %}
{% block content %}

{% if messages %}
        <div class="bg-green-200 p-2 text-center text-stone-800">
            <ul>
                {% for message in messages %}
                <li>{{ message }}</li>
                {% endfor %}
            </ul>
        </div>
{% endif %}

<div class="container mx-auto bg-gray-300 py-10 px-10 text-gray-800 min-h-screen flex flex-col justify-center items-center rounded-2xl shadow-md">
  <div class="w-full md:w-1/2 bg-white rounded-lg shadow-md p-6">
    <h2 class="text-3xl font-semibold mb-6 text-center">All your payment verification</h2>
    <ul class="divide-y divide-gray-200">
      {% for payment in user_payments %}
        <li class="py-4">
          <div class="mb-2">
            <p class="text-lg font-semibold">Payment ID: {{ payment.application_id }}</p>
            <p>Amount: ${{ payment.paying_amount }}</p>
            <p>Date: {{ payment.application_date }}</p>
            <p>Status: 
              <span class="{% if payment.is_pending %}text-yellow-600{% elif payment.is_approved %}text-green-600{% elif payment.is_rejected %}text-red-600{% else %}text-gray-600{% endif %}">
                {% if payment.is_pending %}
                    Pending
                {% elif payment.is_approved %}
                    Approved
                {% elif payment.is_rejected %}
                    Rejected
                {% else %}
                    Status not available
                {% endif %}
              </span>
            </p>
          </div>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>

{% endblock %}
